# 域名

# IP
- DNS解析
    1. 到本地域名服务器查找域名对应的IP
    2. 到根域名服务器查找域名对应的IP
    3. 到顶级域名服务器查找域名对应的IP
    4. 到目标服务器查找域名对应的IP
    5. 将IP写入DNS缓存

#  TCP协议
 - 三次握手 -- 建立连接
 1. 客户端向服务端发送建立连接请求， 客户端进入SYN-SENT状态
 2. 服务端向客户端发送同意连接的应答， 服务端进入SYN-RECEIVED状态
 3. 客户端收到服务器的同意连接的应答后，再向服务端发送一个确认接收到的应答，客户端进入ESTABLISHED状态，服务端也进入ESTABLISHED状态

  - 为什么一定要三次握手，两次行不行
  当客户端向服务端发送请求A，如果因为网络问题，导致A的传输超时而丢失，客户端根据TCP的超时重传机制，再发送一个建立连接请求B，服务端收到请求B，服务端向客户端发送同意请求的应答，客户端接收到服务端的同意，建立连接，数据传输完毕后，服务端和客户端关闭连接。如果A的请求到达服务端，服务端又会认为有客户端要建立连接进而返回应答，进入ESTABLISHED状态，但是客户端已经关闭，服务端一直不会接收到应答，服务端一直处于ESTABLISHED状态，浪费性能，如果是三次应答，服务端向客户端发送确认应答，客户端收到确认应答并返回确认，服务端收到确认应答，关闭连接，这样性能就大大节省了。

  - HTTP数据传输 
  


  - 四次挥手 --- 断开连接
    1. 客户端向服务端发送断开连接请求
    2. 服务端接收到断开连接请求后，返回一个同意断开的响应，并进入到CLOSE_WAIT状态
    3. 服务端如果存在没有发送完毕的数据，会继续发送
    4. 客户端接收到服务端的应答，客户端进入CLOSE_WAIT状态，持续2MSL，并向服务端发送确认应答。在2MSL时间后自动进入CLOSE状态，服务端在接收到客户端的确认应答后也进入CLOSE状态。

